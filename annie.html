<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Anne</title>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
    />
    <link
      rel="shortcut icon"
      href="./1000_F_369123935_3bFzsYBgLLzqjKvGGo45NA8goL1c2Ksw.jpg"
      type="image/x-icon"
    />
    <style>
      .backNone {
        background-color: white !important;
        color: #000000 !important;
      }
      .mainContainer {
        width: 60%;
        height: 60vh;
        margin: auto;
        margin-top: 100px;
      }
      #image {
        width: 100%;
      }
      body {
        background-color: black;
        color: white;
      }
      table {
        margin: auto;
        /* margin-top: -300px; */

        font-size: 1.5rem;
      }
      .red {
        color: rgb(255, 0, 0);
      }
      .yellow {
        color: yellow;
      }
    </style>
  </head>
  <body>
    <section class="mainContainer">
      <p
        class="fixed-top text-center"
        style="margin-top: -15px; font-size: 100px"
      >
        Anne AI
      </p>
      <img
        id="image"
        src="./65a8e037a9cf99aabbe9e385_ai-gif-generator-7.gif"
        alt=""
      />
      <table>
        <tr>
          <td>
            <span class="red">E</span>nter <span class="yellow">T</span>he
            <span class="red">R</span>equest
          </td>
          <td>
            <input class=" " id="searchText" type="text" />
          </td>
        </tr>
        <tr>
          <td>
            <span class="yellow">C</span>lick <span class="red">T</span>o
            <span class="yellow">S</span>ee <span class="red">C</span>hange
          </td>
          <td>
            <button class="btn btn-primary" id="searchBtn">
             enter 
            </button>
          </td>
        </tr>
      </table>
      <h4 class="text-center mt-5" id="result">how can I help you?</h4>
    </section>
    <script>
      let searchBtn = document.querySelector("#searchBtn");
      let searchText = document.querySelector("#searchText");
      let result = document.querySelector("#result");
      searchBtn.addEventListener("click", async () => {
        let searchValue = searchText.value;

        if (searchValue.includes("joke")) {
          try {
            let joke = await fetchJoke();
            result.textContent = joke;
          } catch (e) {
            result.textContent = "Failed to fetch joke";
          }
        } else if (searchValue.includes("time")) {
          const now = new Date();
          const hours = now.getHours();
          const minutes = now.getMinutes();
          const seconds = now.getSeconds();
          const time = `${hours}:${minutes}:${seconds}`;
          result.textContent = time;
        } else if (
          searchValue.includes("hey") ||
          searchValue.includes("hello") ||
          searchValue.includes("hi")
        ) {
          result.textContent =
            "Hi I am Anne, a virtual friend. I am created by Mr. Piyush Singh Rawat";
        } else {
          let googleSearchURL = `https://www.google.com/search?q=${encodeURIComponent(
            searchValue
          )}`;
          window.open(googleSearchURL, "_self");
        }

        searchText.value = "";
      });

      function changefunction() {
        if (options.value == "backGround") {
          searchBtn.textContent = "change color";
        } else if (options.value == "calculator") {
          searchBtn.textContent = "get value";
        } else if (options.value == "gSearch") {
          searchBtn.textContent = "search online";
        } else if (options.value == "joke") {
          searchBtn.textContent = "get your joke";
        }
      }
      async function fetchJoke() {
        const response = await fetch("https://v2.jokeapi.dev/joke/Any");
        const data = await response.json();
        if (data.type === "single") {
          return data.joke;
        } else if (data.type === "twopart") {
          return `${data.setup} - ${data.delivery}`;
        }
        return "No joke found";
      }
    </script>
    <script
      src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"
      integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js"
      integrity="sha384-0pUGZvbkm6XF6gxjEnlmuGrJXVbNuzT9qBBavbLwCsOGabYfZo0T0to5eqruptLy"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
